+++
title = "[GGH4.X] リモートデスクトップ接続 （mstsc.exe） をアプリケーションとして登録し，それを iPad や Android クライアントから利用すると，接続先のデスクトップでキーボード入力が上手く動作しない．"
date = "2013-02-07"
tags = ["技術ノート"]
categories = ["tech"]
banner = "img/technote.jpg"
+++

-----------------------------------------------------------------------------------------------------------------------------

*技術ノート

2013/02/07*


[番号]
技術ノート KGTN 2012091202

[現象]
[GGH4.X] リモートデスクトップ接続 （mstsc.exe）
をアプリケーションとして登録し，それを iPad や Android
クライアントから利用すると，接続先のデスクトップでキーボード入力が上手く動作しない．

[説明]
iPad や Android
クライアントはローカルのIMEを利用するため，GGサーバ側から見ると通常のキー操作として認識されません
（スキャンコードや仮想キーコードに紐付かない）
．通常のアプリケーションはこの仕様で問題ありませんが，リモートデスクトップ接続ではキーボード入力が動作しないという状況が発生します．

この問題を回避するには，先ずWindowsのスクリーンキーボード （osk.exe）
をGGサーバ上で起動し，その後にリモートデスクトップ接続を行って下さい．スクリーンキーボードを操作することで，接続先のデスクトップでキーボード操作が可能になります．

補足１
技術的背景： iPad ?-(GG Clinet) -- GG-Server ?-(mstsc) -- Windows
Server という環境で iPad 上で文字を入力した場合，入力した文字はUNICODE
（キーコードは Packet） で送信されます． GG-Server/mstsc
は，この文字の情報を ローカルで処理することなく Windows Server
へ転送するため， Windows Server
上で動作するアプリケーションに入力した文字列が反映されます． RETURN
および BS キーは， （Packetでなく） 通常のキーコードで送信され，これが
GG-Server 上で処理されます．このため，Windows Server
上で動作するアプリケーションに入力が反映されない状況が発生します．なお，この結果
（GraphOn社に報告済み）
は弊社の検証環境で確認出来た内容であり，環境が異なれば別の結果になる可能性があります．

補足２
この問題をGraphOn社の品質保証チームが確認しました．開発チームで詳細な調査および解析を行い，技術的・営業的に可能な内容であれば修正を行います．


### ファイル

 
 


[KGTN2012091202.pdf](http://techreport.kitasp.net/attachments/download/993/KGTN2012091202.pdf)
 [(77.4 KB)] [kitasp 技術センター, 2013/02/08
08:14]


 


 

