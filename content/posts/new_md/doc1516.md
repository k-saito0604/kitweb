+++
title = "ロードバランサでGGサーバを監視する場合， PING によるヘルスチェック機能しか方法が無いのか？"
date = "2010-12-08"
tags = ["技術ノート"]
categories = ["tech"]
banner = "img/technote.jpg"
+++

-----------------------------------------------------------------------------------------------------------------------------

*技術ノート

2010/12/08*


[番号]
技術ノート KGTN 2010120601

[現象]
ロードバランサでGGサーバを監視する場合， PING
によるヘルスチェック機能しか方法が無いのか？

[説明]
ロードバランサのTCP/IPによるヘルスチェック機能では，単に
「APSが開始状態にあるか？」 ということを確認するだけで，
「実際にログインできる状態にあるか？」 ということは確認できません
（ハンドルの枯渇等ではコネクト出来るがログイン出来ない状態が発生します）
．技術ノートKGTN#2010120302
の内容も考慮すると，サーバの負荷を高めてまでTCP/IPによるヘルスチェック機能を行うことは得策ではありません．

エンタープライズオプションの GMCheckRaw では，
「実際にログインできる状態にあるか？」
ということを確認することが出来ますので， PING
以上の監視を行うのであれば，これを使用することをお勧めします．一般には
GMCheckRaw
とロードバランサが直に連携を行うことは出来ませんが，しかし高機能なロードバランサでは
Windowsのアプリケーションを利用する （あるいはデータを参照する）
ことが出来ますので，GMCheckRawが必要な情報を出力するように設定することで
（あるいはアプリケーションで加工することで） 連携を行うことが可能です．

参　考
UNIXのinetd （デーモン）
と類似したプログラムを使用することで，特定のポートにアクセスがあった時，GMCheckRaw
を実行しその結果 （文字列）
を返すことが出来ます．サンプル等を用意しておりますので，必要な場合は弊社技術支援センターまでお問い合せ下さい
（サポート対象外ですが，ソースコードが付属します） ．


### ファイル

 
 


[KGTN2010120601.pdf](http://techreport.kitasp.net/attachments/download/418/KGTN2010120601.pdf)
 [(71.2 KB)] [kitasp 技術センター, 2010/12/08
09:58]


 


 

