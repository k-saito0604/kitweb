+++
title = "[GGH5.X/ExPack] 拡張パックの GGEasyMonitorClientInfo とはどんなツールなのか？"
date = "2016-08-25"
tags = ["技術ノート"]
categories = ["tech"]
banner = "img/technote.jpg"
+++

-----------------------------------------------------------------------------------------------------------------------------

*技術ノート

2016/08/25*


[番号]
技術ノート KGTN 2016081201

[現象]
[GGH5.X/ExPack] 拡張パックの GGEasyMonitorClientInfo
とはどんなツールなのか？

[説明]
GGのグローバル・ログオンスクリプトから起動されることを想定したプログラムで，セッションの環境変数から下記の情報を得て所定のファイルに記録します．記録された情報は，
GGEasyMonitor が参照し，クライアント情報の表示に利用されます．

・ユーザーID
・セッションID
・クライアントのコンピューター名
・クライアントのIPアドレス
・クライアントのネットワークアドレス
・セッションの開始日
・セッションの開始時刻

設定ファイル
設定ファイル GGEasyMonitorClientInfo.ini の default
セクションで，以下のパラメタを設定して下さい．

  ----------------------------------- ----------------------------------------------------
               設定項目                                       説明

               logLevel                ログの出力レベル，通常は1を指定し，障害時は4を指定

                 logd                      ログファイルを作成するフォルダ （省略可）

                 loop                  情報取得の回数 （既定値は1，無限ループは0を指定）

                 sleep                      情報取得の間隔 （単位は秒，既定値は10）

             includeDomain                      ユーザーIDにドメイン名を踏む希有
                                                     （YES/NO，既定値はNO）

               adServer                 このサーバーはADサーバー （YES/NO，既定値はNO）

               dataPath                   採取した情報を保存するiniファイルのフルパス
                                             ※ Users に書き込み権限を与えて下さい．
  ----------------------------------- ----------------------------------------------------

記録内容
採取した情報は dataPath
で指定したiniファイルに，以下の形式で記録されます．クライアントのネットワークアドレス
（サーバー側） には，設定ファイル HostProperties.xml の
NetworkAddressEnvVarEnabled に true
が設定された場合に限り，正しいアドレスがセットされます．それ以外の場合は，クライアントのIPアドレス
（クライアント側） がセットされます
（注：バージョン2.2.7またはそれ以降） ．詳細については，技術ノート
KGTN#2014020703 をご覧ください．

    [testuser001#28 on ggh50-lic] 　　　　　　セッション名（独自形式）
    username=testuser001 　　　　　　　　　　　　ユーザー名
    sessionid=28 　　　　　　　　　　　　　　　　　セッションID
    clientcomputername=sfp2 　　　　　　　　　　クライアントのコンピューター名
    clientcomputeripaddress=192.168.18.4 　　クライアントのIP アドレス（クライアント側）
    clientnetworkaddress=192.168.102.136 　　クライアントのネットワークアドレス（サーバー側）
    sessiondate=2016-08-12 　　　　　　　　　　　セッションの開始日
    sessiontime=09:37:34 　　　　　　　　　　　　セッションの開始時刻


### ファイル

 
 


[KGTN2016081201.pdf](http://techreport.kitasp.net/attachments/download/3919/KGTN2016081201.pdf)
 [(72.4 KB)] [kitasp 技術センター, 2018/01/26
14:41]


 


 

