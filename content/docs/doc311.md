+++
title = "[GGW3.2.1] 技術ノートKGTN#2010042701に従ってチェックしたが，同一のコンピュータ名を持つクライアントは存在しなかった．しかし，クライアントプリンタが16進表記で生成される．"
date = "2014-02-28"
ttags = ["技術ノート"]
tcategories = ["tech"]
banner = "img/technote.jpg"
+++

-----------------------------------------------------------------------------------------------------------------------------

*技術ノート

2014/02/28*


[番号]
技術ノート KGTN 2010122101

[現象]
[GGW3.2.1]
技術ノートKGTN#2010042701に従ってチェックしたが，同一のコンピュータ名を持つクライアントは存在しなかった．しかし，クライアントプリンタが16進表記で生成される．

[説明]
このようなケースでは，そのクライアント （コンピュータ）
自体が重複して認識されています．クライアントプリンタの情報
（クライアント側） print.ini
には，クライアントのIDを保持しており，この情報を元にサーバ側でオートクリエイトプリンタが生成されます．この時，クライアントプリンタの情報
（サーバ側） ClientIdentifiers.ini
にもその情報が記録され，重複が無い場合は通常のプリンタ名となります．この
ClientIdentifiers.ini
中の情報はログオフと共に削除されますが，接続障害等の異常が発生した場合は削除されずに残ります．

この状況でクライアント側の print.ini
が削除された場合，次回ログオン時に新たなクライアントIDが生成されます．しかし，サーバ側の
ClientIdentifiers.ini に前のクライアントID （MACアドレスが同一）
が存在していますので，GGサーバはこれをクライアントIDの重複と認識して，16進表記のオートクリエイトプリンタを生成します．

対応は，サーバ側のClientIdentifiers.ini を消すか，または （その中の）
同一のMACアドレスを持つ行を全て削除して下さい．

参考１
実験等で16進表記のオートクリエイトプリンタを生成する手順は以下の通りです．

1) クライアント側の print.ini とサーバ側の ClientIdentifiers.ini
にを消す．
2) クライアントからサーバへ接続する．
3) 正しいオートクリエイトプリンタが作成されたことを確認する．
4) 「セッションを切断せずに」 クライアント側の print.ini を削除する．
5) クライアントからサーバへ接続する （新たなセッション） ．
6) 16進表記のオートクリエイトプリンタが作成される．

print.ini が削除されると， （その後の接続で）
新たなクライアントIDが作成されるため，同じクライアントで異なるクライアントIDが存在することになり，その結果2つ目のセッションのオートクリエイトプリンタが16進表記になります．

参考2
GGH4.0 （Ver4.0）
では，クライアント印刷機能のアーキテクチャが変更されたため， print.ini
および ClientIdentifiers.ini
が存在しません．従って，本件の現象は本質的に発生しません．


### ファイル

 
 


[KGTN2010122101.pdf](http://techreport.kitasp.net/attachments/download/1600/KGTN2010122101.pdf)
 [(67.3 KB)] [kitasp 技術センター, 2014/02/28
18:37]


 


 

