+++
title = "SessionVerification を 0 に変更したところ，セッションが切断されなくなった．切断の原因として，どんなことが考えられるか？"
date = "2010-11-24"
tags = ["技術ノート"]
categories = ["tech"]
banner = "img/technote.jpg"
+++

-----------------------------------------------------------------------------------------------------------------------------

*技術ノート

2010/11/24*


[番号]
技術ノート KGTN 2010112501

[現象]
SessionVerification を 0
に変更したところ，セッションが切断されなくなった．切断の原因として，どんなことが考えられるか？

[説明]
SessionVerification が 1 の場合，GGクライアントは30秒毎にPING （要求）
パケットをGGサーバへ送信し，GGサーバはこの30秒毎のパケットを受信すると，PING
（応答）
パケットをGGクライアントへ送信します．GGクライアントおよびGGサーバは，30秒毎のPING
（要求または応答）
パケットが続けて2回相手から届かなかった時，通信障害が発生していると認識しセッションを切断します．

従って，原因としては 1) OS （Windows）
の問題等によりPINGパケットを送信出来なかった， 2)
CPUの過負荷やスワップアウトの多発等によりPINGパケットの送信に著しく時間を要した，
3) クライアント〜サーバ間のネットワーク （機材）
で障害が発生しPINGパケットが配送されなかった，などが考えられます．

参　考
ある案件では，特定のシステムのみセッションの切断が発生し，上記3が原因と推測されました．しかし，大規模なシステムということもあり，サービス開始までに障害の原因を特定することが出来なかったため，暫定処置として
SessionVerification を 0
に設定して運用を開始しました．既に半年以上運用されておりますが，特に問題等は発生しておりません
（注意： あくまでも事例の紹介であり， SessionVerification を 0
に設定しての運用を勧めるものではありません） ．


### ファイル

 
 


[KGTN2010112501.pdf](http://techreport.kitasp.net/attachments/download/402/KGTN2010112501.pdf)
 [(67.3 KB)] [kitasp 技術センター, 2010/11/25
03:47]


 


 

