+++
title = "[Linux Client] キーマップテーブルの追加修正手順を知りたい．"
date = "2012-10-04"
ttags = ["技術ノート"]
tcategories = ["tech"]
banner = "img/technote.jpg"
+++

-----------------------------------------------------------------------------------------------------------------------------

*技術ノート

2012/10/04*


[番号]
技術ノート KGTN 2012083001

[現象]
[Linux Client] キーマップテーブルの追加修正手順を知りたい．

[説明]
【Windows環境のキー情報採取】
キーボード入力コード表示プログラム KeyInDisp.exe を入手する．
プログラムを起動し，問題のキーを押下する．
表示された情報を記録する．
下記の例は106キーボード右下の 「ろ」
と書かれたキーを押下した時の結果で，スキャンコードが
0x73，仮想キーコードが 0xE2 であることを示している．

【Linux環境のキー情報採取】
GNOME端末を起動し，その中で xev コマンドを実行する．
問題のキーを押下する．
表示された情報を記録する．
下記の例は106キーボード右下の 「ろ」
と書かれたキーを押下した時の結果で，キーコードが 211 (0xD3)
であることを示している．

【キーマップテーブルの編集】
"/etc/gg-client/kbd/jp.kbm" をテキストエディタで開く．
キーコード，スキャンコード，仮想キーコード，0x00, 0x00
という行を追加または修正する．
前記の例では0xD3, 0x73, 0xE2, 0x00, 0x00 となる．
ファイルを保存し Linuxを再起動する．
再起動後にGGサーバへアクセスし，メモ帳等で問題のキーが正しく入力されることを確認する．
補　足
CentOS 6.3 のLive USB
等にGGクライアントをインストールした場合，以下の設定が必要な場合があります．

【デスクトップの日本語対応】
ログイン画面が表示された後，画面最下段の言語の設定を 「日本語」
に切り替えてログインする （この設定は一度実行すれば保存される） ．

【キーボードの日本語対応】
ログイン後， [システム] → [設定] → [キーボード]
でキーボード設定画面を表示する．
レイアウトタブに切替えて，追加ボタンで日本語キーボードを追加する．
最初から登録されていた 「英語(US)」
のキーボードを選択し，削除ボタンを押下して削除する．
キーボード設定画面を閉じる．


### ファイル

 
 


[KGTN2012083001.pdf](http://techreport.kitasp.net/attachments/download/987/KGTN2012083001.pdf)
 [(166 KB)] [kitasp 技術センター, 2012/10/04
11:42]


 


 

