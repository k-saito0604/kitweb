<!DOCTYPE html>
<html lang="ja-jp">

  <head>
  <meta charset="utf-8">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <title>エンタープライズオプションの GGHealthCheck はどういう機能を提供するのか？</title>
  <meta name="author" content="kitasp" />
  
  
  
  
  <meta name="keywords" content="devows, hugo, go, 技術ノート">
  
  
  <meta name="description" content="きっとエイエスピーのホームページ">

  <meta name="generator" content="Hugo 0.68.1" />

  
  <link href='//fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,500,700,800' rel='stylesheet' type='text/css'>

  
  <link rel="stylesheet" href="//use.fontawesome.com/releases/v5.11.2/css/all.css">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

  
  <link href="/css/animate.css" rel="stylesheet">

  
  
    <link href="/css/style.blue.css" rel="stylesheet" id="theme-stylesheet">
  

  
  <link href="/css/custom.css" rel="stylesheet">


  
  <link href="/js/slick.css" rel="stylesheet">
  <link href="/js/slick-theme.css" rel="stylesheet">

  
  
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
  <link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon" />
  <link rel="apple-touch-icon" href="/img/apple-touch-icon.png" />

  
  <link href="/css/owl.carousel.css" rel="stylesheet">
  <link href="/css/owl.theme.css" rel="stylesheet">

  
  <link rel="alternate" href="/index.xml" type="application/rss+xml" title="きっとエイエスピーはGlaphOn社GO-Globalの総代理店">

  
  
  
  
  
  
  <meta property="og:updated_time" content="2013-10-31T00:00:00Z">
  

  
  <meta name="twitter:card" content="summary">
  
  <meta name="twitter:title" content="エンタープライズオプションの GGHealthCheck はどういう機能を提供するのか？">
  
  <meta name="twitter:description" content="きっとエイエスピーのホームページ">
  

  <script defer src="https://www.gstatic.com/firebase/5.3.1/firebase-app.js"></script>
  <script defer src="https://www.gstatic.com/firebase/5.3.1/firebase-storage.js"></script>
  <script defer src="https://www.gstatic.com/firebase/5.3.1/firebase-auth.js"></script>
  <script defer src="https://www.gstatic.com/firebase/init.js"></script>
  <script src="https://cdn.firebase.com/libs/firebaseui/3.1.1/firebaseui.js"></script>
  <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/3.1.1/firebaseui.css" />
  <script src="/js/config.js"></script>

</head>


  <body>

    <div id="all">

        <header>

          <div class="navbar-affixed-top" data-spy="affix" data-offset-top="500">

    <div class="navbar navbar-default yamm" role="navigation" id="navbar">

        <div class="container">
            <div class="navbar-header">
                <a class="navbar-brand home" href="/">
                    <img src="/img/logo.png" alt="エンタープライズオプションの GGHealthCheck はどういう機能を提供するのか？ logo" class="hidden-xs hidden-sm">
                    <img src="/img/logo-small.png" alt="エンタープライズオプションの GGHealthCheck はどういう機能を提供するのか？ logo" class="visible-xs visible-sm">
                    <span class="sr-only">エンタープライズオプションの GGHealthCheck はどういう機能を提供するのか？ - ホームへ戻る</span>
                </a>
                <div class="navbar-buttons">
                    <button type="button" class="navbar-toggle btn-template-main" data-toggle="collapse" data-target="#navigation">
                      <span class="sr-only">ナビゲーションの切り替え</span>
                        <i class="fas fa-align-justify"></i>
                    </button>
                </div>
            </div>
            

            <div class="navbar-collapse collapse" id="navigation">
                <ul class="nav navbar-nav navbar-right">
                  
                  <div class = "topbotton">
                    <a class="fas fa-search" href="/search">ページを検索する</a>
                    <a href="/contact" class="btn-square-shadow-ora">問い合わせ</a>
                    <a href="https://gitbook.kitasp.com/" class="btn-square-shadow">技術サイト</a>
                  </div>
                  
                  
                  
                  <li class="dropdown">
                    
                    <a class="dropdown-toggle" href="/function-introduction/" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span class="linkmenu">機能説明</span><span class="caret"></span></a>
                    <ul class="dropdown-menu">
                      
                        <li>
                          <a href="/web-separation">web分離</a>
                        </li>
                      
                        <li>
                          <a href="/work-style-reform">働き方改革</a>
                        </li>
                      
                        <li>
                          <a href="/thin-client">シンクライアント</a>
                        </li>
                      
                        <li>
                          <a href="/lift-shift">アプリクラウド化</a>
                        </li>
                      
                    </ul>
                    
                  </li>
                  
                  
                  <li class="dropdown">
                    
                    <a class="dropdown-toggle" href="/case-study" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span class="linkmenu">導入事例</span><span class="caret"></span></a>
                    <ul class="dropdown-menu">
                      
                        <li>
                          <a href="/adaptation-facility-1">医療現場</a>
                        </li>
                      
                        <li>
                          <a href="/adaptation-facility-2">ISV</a>
                        </li>
                      
                        <li>
                          <a href="/adaptation-facility-3">中小企業</a>
                        </li>
                      
                        <li>
                          <a href="/adaptation-facility-4">BCP対策</a>
                        </li>
                      
                        <li>
                          <a href="/adaptation-facility-5">教育現場</a>
                        </li>
                      
                    </ul>
                    
                  </li>
                  
                  
                  <li class="dropdown active">
                    
                    <a class="dropdown-toggle" href="/posts/" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span class="linkmenu">お知らせ</span><span class="caret"></span></a>
                    <ul class="dropdown-menu">
                      
                        <li>
                          <a href="/support-schedule/">対応スケジュール</a>
                        </li>
                      
                        <li>
                          <a href="/download/">Download</a>
                        </li>
                      
                        <li>
                          <a href="/categories/news/">News</a>
                        </li>
                      
                        <li>
                          <a href="/categories/tech/">tech news</a>
                        </li>
                      
                    </ul>
                    
                  </li>
                  
                  
                  <li class="dropdown">
                    
                    <a href="/faq/">FAQ</a>
                    
                  </li>
                  
                  
                  <li class="dropdown">
                    
                    <a href="/partners-list/">代理店一覧</a>
                    
                  </li>
                  
                  
                  <li class="dropdown">
                    
                    <a class="dropdown-toggle" href="/company-infomation/" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span class="linkmenu">会社概要</span><span class="caret"></span></a>
                    <ul class="dropdown-menu">
                      
                        <li>
                          <a href="/representative-greetings/">代表挨拶</a>
                        </li>
                      
                        <li>
                          <a href="/philosophy/">理念</a>
                        </li>
                      
                        <li>
                          <a href="/history/">沿革</a>
                        </li>
                      
                        <li>
                          <a href="/privacy-policy/">プライバシーポリシー</a>
                        </li>
                      
                    </ul>
                    
                  </li>
                  
                </ul>
            </div>
            

            <div class="collapse clearfix" id="search">
                <form class="navbar-form" role="search">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search">
                        <span class="input-group-btn">
                    <button type="submit" class="btn btn-template-main"><i class="fas fa-search"></i></button>
                </span>
                    </div>
                </form>
            </div>
            

        </div>
    </div>
    

</div>




        </header>

        <div id="heading-breadcrumbs">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h1>エンタープライズオプションの GGHealthCheck はどういう機能を提供するのか？</h1>
            </div>
        </div>
    </div>
</div>


        <div id="content">
            <div class="container">

                <div class="row">
                  
                    

                    <div class="col-md-9" id="blog-post">

                        
                          <p class="text-muted text-uppercase mb-small text-right">
                            
                            
                            2013-10-31
                          </p>
                        
                      
                        <div id="post-content">
                          <hr>
<p>*技術ノート</p>
<p>2013/10/31*</p>
<p>[番号]
技術ノート KGTN 2011013101</p>
<p>[現象]
エンタープライズオプションの GGHealthCheck
はどういう機能を提供するのか？</p>
<p>[説明]
ロードバランサのヘルスチェック機能 （TCP/IPレベル）
でGGのポート491を監視した場合，GGは接続要求を検出した時点で様々なリソースを確保します
（注：これは一斉ログオン等の高負荷な処理をさばくための仕様です）
．しかし，ロードバランサはGGのプロトコルを喋りませんので，コネクションが切断されるまで，それらのリソースが確保され続けます．一斉ログオン時に，複数台のロードバランサがヘルスチェック機能
（TCP/IPレベル）
を行うと，それがパフォーマンスに影響を与える可能性があります．GGHealthCheck
は，このような問題 （これ以外にもWindowsの仕様に絡む問題があります）
を解決するために作成しました．</p>
<p>GGHealthCheck は，定期的にGGサーバの稼働状況をチェックし （GMCheckRaw
または GGSessionMonitor コマンドを使用します）
，その状況を記録します．ロードバランサのヘルスチェック機能
（TCP/IPレベル） でGGHealthCheck に接続要求があると， 1)
接続要求を受け付け， 2) 文字列 （最大128文字までの半角文字列）
の受信を待ち， 3) 受信した文字列の末尾に &ldquo;server = UP&rdquo;
という文字列を付加し返信 （送信） し， 4)
コネクションを切断します．GGサーバが正常に稼働していない場合は， &ldquo;server
= DOWN&rdquo; という文字列を付加します．なお，サーバ機能は 「多」
クライアントからの同時アクセス可能な実装になっています．</p>
<p>設定ファイル
設定ファイルGGHealthCheck.ini の default
セクションで，以下のパラメタを設定して下さい．</p>
<p>設定項目 説明 mode S = サーバとして起動 （C = クライアントとして起動）
host サーバのIPアドレス（IPv4 / IPv6） port サーバの待受けポートの番号
interval ヘルスチェックの間隔（秒） repeat
ヘルスチェックの回数（注：-1は無限回） clSleep
クライアント時のコネクション切断後の再チェックまでの間隔（秒） svSleep
サーバ時のGGサーバを監視する間隔（秒） clTimeout
クライアント時の送受信のタイムアウト時間（秒） svTimeout
サーバ時の送受信タイムアウト時間（秒）
注：clTimeout +5秒以上を指定すること logd
ログを保存するフォルダ（絶対パス） command GMCheckRaw または
GGSessionMonitor を起動するコマンド errorCode 9999（固定）
注：クライアント機能は，サーバ機能が正常に動作しているかどうかを確認するためのツールです．通常の運用では，
GGHealthCheck
のサーバ機能のみを使用し，ロードバランサがこの時のクライアントになります．
設定項目は，下記のコマンドの引数で上書きすることが出来ます．</p>
<p>設定項目 説明 -s サーバとして起動 -c クライアントとして起動 -h address
サーバのIPアドレス（IPv4/IPv6） -hp サーバの待受けポートの番号 -i sec
コネクション切断後の再チェックまでの間隔（秒） -r times
ヘルスチェックの回数（注：-1は無限回） -l dir
ログを保存するフォルダ（絶対パス）</p>
<p>補足１ (Ver2.1.0またはそれ以降)
より手軽に利用したいというユーザ様からのご要望があり，以下のように仕様を拡張しました．この設定ではサービス
GGAPS の状態を監視し，その結果をロードバランサのヘルスチェック機能に返信
（送信） します．</p>
<p>設定項目 説明 command *GGAPS を指定（APSの開始状態を監視）</p>
<p>補足２ (Ver2.2.0またはそれ以降)
エンタープライズオプション GGSessionMonitor
と併用する場合は，以下の指定を行うことで，データベース中のサーバ状態を直接参照して結果を返すことが出来ます．</p>
<p>設定項目 説明 sql3 GGSessionMonitor
が生成するデータベースファイルの絶対パス</p>
<h3 id="ファイル">ファイル</h3>
<p><a href="http://techreport.kitasp.net/attachments/download/460/KGTN2011013101.pdf">KGTN2011013101.pdf</a>
[(106 KB)] [kitasp 技術センター, 2013/10/31
14:50]</p>

                        </div>
                        
  
  <div class="same-category-posts-area">
    <h2>Posts in "tech" category</h2>
    
    
    <div class="item same-height-row clearfix">
      <div class="image same-height-always">
          <a href="/posts/202003windowsupdate/">
            
              <img src="/img/Windowsupdate.jpg" class="img-responsive" alt="2020年3月のWindows Update互換性情報に関して">
            
          </a>
      </div>
      <div class="name same-height-always">
          <h4><a href="/posts/202003windowsupdate/">2020年3月のWindows Update互換性情報に関して</a></h4>
      </div>
  </div>
    
    <div class="item same-height-row clearfix">
      <div class="image same-height-always">
          <a href="/posts/new_md/doc2168/">
            
              <img src="/img/technote.jpg" class="img-responsive" alt="[ExPack] 拡張パックの GGEasyLogoff とはどのようなプログラムなのか？">
            
          </a>
      </div>
      <div class="name same-height-always">
          <h4><a href="/posts/new_md/doc2168/">[ExPack] 拡張パックの GGEasyLogoff とはどのようなプログラムなのか？</a></h4>
      </div>
  </div>
    
    <div class="item same-height-row clearfix">
      <div class="image same-height-always">
          <a href="/posts/new_md/doc2279/">
            
              <img src="/img/technote.jpg" class="img-responsive" alt="[ExPack] 拡張パックの GGEasyMonitor でSSLの設定をしたGGサーバーに接続する時に警告が表示される。">
            
          </a>
      </div>
      <div class="name same-height-always">
          <h4><a href="/posts/new_md/doc2279/">[ExPack] 拡張パックの GGEasyMonitor でSSLの設定をしたGGサーバーに接続する時に警告が表示される。</a></h4>
      </div>
  </div>
    
    <div class="item same-height-row clearfix">
      <div class="image same-height-always">
          <a href="/posts/new_md/doc2390/">
            
              <img src="/img/technote.jpg" class="img-responsive" alt="[ExPack] 拡張パックの GGEasyMonitor の振り分け画面および監視画面をSSL対応 （https） にする予定はないのか？">
            
          </a>
      </div>
      <div class="name same-height-always">
          <h4><a href="/posts/new_md/doc2390/">[ExPack] 拡張パックの GGEasyMonitor の振り分け画面および監視画面をSSL対応 （https） にする予定はないのか？</a></h4>
      </div>
  </div>
    
    <div class="item same-height-row clearfix">
      <div class="image same-height-always">
          <a href="/posts/new_md/doc3/">
            
              <img src="/img/technote.jpg" class="img-responsive" alt="[GGH4.X-6.X] GGをインストールした状態でGGサーバーのWindowsをメジャーバージョンアップしたが、その後GGが正常に動作しない。">
            
          </a>
      </div>
      <div class="name same-height-always">
          <h4><a href="/posts/new_md/doc3/">[GGH4.X-6.X] GGをインストールした状態でGGサーバーのWindowsをメジャーバージョンアップしたが、その後GGが正常に動作しない。</a></h4>
      </div>
  </div>
    
    
      <a class="more-btn" href="/categories/tech/">more ...</a>
    
  </div>

                        
                        
                    
                        

                    </div>
                    

                    

                    

                    <div class="col-md-3">

                        

                        

<div class="panel panel-default sidebar-menu">

    <div class="panel-heading">
      <h3 class="panel-title">検索</h3>
    </div>

    <div class="panel-body">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" role="search">
            <div class="input-group">
                <input type="search" name="q" class="form-control" placeholder="検索">
                <input type="hidden" name="sitesearch" value="/">
                <span class="input-group-btn">
                    <button type="submit" class="btn btn-template-main"><i class="fas fa-search"></i></button>
                </span>
            </div>
        </form>
    </div>
</div>







<div class="panel panel-default sidebar-menu">

    <div class="panel-heading">
        <h3 class="panel-title">カテゴリー</h3>
    </div>

    <div class="panel-body">
        <ul class="nav nav-pills nav-stacked">
            
            
            <li>
                <a href="/categories/news">news (2)</a>
            </li>
            
            <li>
                <a href="/categories/tech">tech (2728)</a>
            </li>
            
        </ul>
    </div>

</div>








<div class="panel sidebar-menu">

    <div class="panel-heading">
        <h3 class="panel-title">タグ</h3>
    </div>

    <div class="panel-body">
        <ul class="tag-cloud">
            
            
            <li>
                <a href="/tags/news"><i class="fas fa-tags"></i> news</a>
            </li>
            
            <li>
                <a href="/tags/windowsupdate"><i class="fas fa-tags"></i> windowsupdate</a>
            </li>
            
            <li>
                <a href="/tags/%e6%8a%80%e8%a1%93%e3%83%8e%e3%83%bc%e3%83%88"><i class="fas fa-tags"></i> 技術ノート</a>
            </li>
            
        </ul>
    </div>

</div>






                        

                    </div>
                    

                    

                </div>
                

            </div>
            
        </div>
        

        
    <div class="col-md-12">
        <footer id="footer">
        <div class="footer-nav-wrapper">        
        <div class="container">
            <div class="col-md-3 col-sm-3">
                <div class="footer-nav-column">
                    <div class="footer-nav-column-title"></div>
                    <div class="footer-nav-column-content">
                    <a href="/go-global/">GO-Globalとは</a>
                    <ul class="footer-nav-list">
                        <li>
                            <a href="/web-separation/">WEB分離</a>
                        </li>
                        <li>
                            <a href="/work-style-reform/">働き方改革</a>
                        </li>
                        <li>
                            <a href="/thin-client/">シンクライアント</a>
                        </li>
                        <li>
                            <a href="/security/">セキュリティ</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <hr class="hidden-md hidden-lg hidden-sm">
        <div class="col-md-3 col-sm-3">
            <div class="footer-nav-column">
            <div class="footer-nav-column-content">
                <a href="/case-study/">導入事例</a>
                <ul class="footer-nav-list">
                    <li>
                        <a href="/adaptation-facility-1/">適応施設(医療機関)</a>
                    </li>
                    <li>
                        <a href="/adaptation-facility-2/">適応施設(教育機関)</a>
                    </li>
                    <li>
                        <a href="/adaptation-facility-3/">適応施設(ISV)</a>
                    </li>
                    <li>
                        <a href="/adaptation-facility-4/">適応施設(一般オフィス)</a>
                    </li>
                    <li>
                        <a href="/adaptation-facility-5/">適応施設(BCP対策) </a>
                    </li>
                </ul>
            </div>
        </div>
        </div>
        <hr class="hidden-md hidden-lg hidden-sm">
                <div class="col-md-3 col-sm-3">
                    <div class="footer-nav-column">
                        <div class="footer-nav-column-title"></div>
                        <div class="footer-nav-column-content">
                            <a href="/post/">お知らせ</a>
                            <ul class="footer-nav-list">
                                <li>
                                    <a href="/support-schedule/">対応スケジュール</a>
                                </li>
                                <li>
                                    <a href="/news/">Download</a>
                                </li>
                                <li>
                                    <a href="/categories/news/">サイトニュース</a>
                                </li>
                                <li>
                                    <a href="/categories/tech-news/">技術ニュース</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <hr class="hidden-md hidden-lg hidden-sm">
        
                </div>

        
        
                


        


        <div class="col-md-3 col-sm-3">
            <div class="footer-nav-column">
        <div class="footer-nav-column-content">
            <a href="/faq/">FAQ</a><br>
            <a href="/partners-list/">代理店一覧</a><br>
            <a href="/contact/">問合せフォーム</a><br>
            <a href="/technical-site/">技術サイト</a><br>
            <br>
            <hr class="hidden-md hidden-lg hidden-sm">
            <a href="/company-information/">企業概要</a>
            <ul class="footer-nav-list">
                <li>
                    <a href="/representative-greetings/">代表あいさつ</a>
                </li>
                <li>
                    <a href="/philosophy/">理念</a>
                </li>
                <li>
                    <a href="/history/">沿革</a>
                </li>
                <li>
                    <a href="/privacy-policy/">個人情報保護方針</a>
                </li>
            </ul>
        </div>
    </div>
</div>
        
       

    </div>
    </div>
    
</footer>







<div id="copyright">
    <div class="container">
        <div class="col-md-12">
            
           <p class="pull-left">Copyright © 2020 KitASP Corp. All Rights Reserved</p>
            
           
        </div>
    </div>
</div>







    </div>
    

    
<script src="//code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="/js/jquery.zoom.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/jquery.waypoints.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/Counter-Up/1.0/jquery.counterup.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-parallax/1.1.3/jquery-parallax.js"></script>

<script src="//maps.googleapis.com/maps/api/js?v=3.exp"></script>

<script src="/js/hpneo.gmaps.js"></script>
<script src="/js/gmaps.init.js"></script>
<script src="/js/front.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.7.1/css/lightbox.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.7.1/js/lightbox.min.js" type="text/javascript"></script>
<script type="text/javascript" src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>

<script src="/js/owl.carousel.min.js"></script>
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.4/css/all.css">

<script src="/js/slick.min.js"></script>



  </body>
</html>
